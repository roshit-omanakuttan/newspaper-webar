<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Newspaper WebAR</title>
<style>
  html,body{margin:0;height:100%;background:#0b0b10}
  #ar{position:fixed;inset:0}
  #start{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#0b0b10;color:#eaeaf5}
  #start button{font-size:18px;padding:12px 20px;border:0;border-radius:10px}
</style>
<link rel="icon" href="data:,"/>
</head>
<body>
<div id="ar"></div>
<div id="start"><button>Start AR</button></div>

<script>
const loadScript = (src) => new Promise((res, rej) => {
  const s = document.createElement('script'); s.src = src; s.onload = res; s.onerror = () => rej(new Error('load '+src)); document.head.appendChild(s);
});

async function boot(){
  // load libs in order
  await loadScript('https://unpkg.com/three@0.154.0/build/three.min.js');
  await loadScript('https://unpkg.com/three@0.154.0/examples/js/loaders/GLTFLoader.js');
  try {
    await loadScript('https://unpkg.com/mind-ar@1.1.7/dist/mindar-image-three.prod.js');
  } catch { await loadScript('https://cdn.jsdelivr.net/npm/mind-ar@1.1.7/dist/mindar-image-three.prod.js'); }

  if(!window.MINDAR || !window.MINDAR.IMAGE){ console.error('MindAR failed to load'); return; }

  const THREE_AR = window.MINDAR.IMAGE.THREE;
  const mindarThree = new window.MINDAR.IMAGE.MindARThree({
    container: document.querySelector('#ar'),
    imageTargetSrc: './targets.mind',
    filterMinCF: 0.0001, filterBeta: 0.01
  });
  const { renderer, scene, camera } = mindarThree;

  scene.add(new THREE_AR.HemisphereLight(0xffffff, 0x444444, 1.0));
  const anchor = mindarThree.addAnchor(0
